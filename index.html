<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
   
    <title>Crystal Game</title>
</head>
<body>
    <div class="p-3 mb-2 bg-secondary text-white">
    <div class="container">
        <div class="row">
            <div class="p-3 mb-2 bg-light text-dark">
                <div class="col-md-12">
                    <strong><h1>WELCOME TO THE CRYSTAL GAME</h1></strong>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="p-3 mb-2 bg-light text-dark">
                <div class="col-md-12">
                    <p>You will be given a number before a game.</p>
                    <p>Presented below are four crystal that carry 4 different values. These values are added to the total number of points on the score counter.</p>
                    <p>You win the game if the total value equals to the designated target goal.</p>
                    <p>The value of each crystal is hidden until it is clicked upon by the user.</p>
                    <p>The value of both the crystals and the target score is randomized each round.</p>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="p-3 mb-2 bg-warning text-dark">
                <div class="col-md-6">
                    <p>Target Score</p>
                    <div id="number-to-guess"></div>
            </div>
        </div>
            <div class="p-3 mb-2 bg-info text-white">
                <div class="col-md-6">
                    <p>Wins: </p>
                    <div id="win-counter"></div>
                    <p>Losses: </p>
                    <div id="loss-counter"></div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <div id="crystal1"></div>
                <div id="crystal2"></div>
                <div id="crystal3"></div>
                <div id="crystal4"></div>

                <!-- <div id="crystal1" class="crystal-image"></div>
                <div id="crystal2" class="crystal-image"></div>
                <div id="crystal3" class="crystal-image"></div>
                <div id="crystal4" class="crystal-image"></div> -->
            </div>
        </div>
        <div class="row">
            <div class ="p-3 mb-2 bg-success text-white">
                <div class="col-md-12">
                    <p>Your Current Score:</p>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="p-3 mb-2 bg-success text-white">
                <div class="col-md-12">
                        <div id="current-score"></div>
                </div>
            </div>
        </div>
    </div>
    </div>


    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript">
        
        // Paramter variables for game  
        var targetNumber = Math.floor(Math.random() * 9001);
        var counter = 0;
        var randomNumber1 = Math.floor(Math.random() * 501);
        var randomNumber2 = Math.floor(Math.random() * 501);
        var randomNumber3 = Math.floor(Math.random() * 501);
        var randomNumber4 = Math.floor(Math.random() * 501);
        var numberOptions = [randomNumber1, randomNumber2, randomNumber3, randomNumber4];
        var wins = 0;
        var losses = 0;
        // HTML Elements 
        var scoreDisplay = $("#current-score");
        var winDisplay = $("#win-counter");
        var lossDisplay = $("#loss-counter");
        var targetDisplay = $("#number-to-guess");
        var imageCrystal1 = $("<img>");
        var imageCrystal2 = $("<img>");
        var imageCrystal3 = $("<img>");
        var imageCrystal4 = $("<img>");



        $("#number-to-guess").text(targetNumber);

        $("current-score").text(counter);

        $("win-counter").text(wins);


        $("loss-counter").text(losses);


        for (var i = 0; i <= numberOptions.length; i++) {

            imageCrystal1.addClass("crystal-image");
            imageCrystal1.attr("src", "images/51561341_1_x.jpg");
            imageCrystal1.attr("data-crystalvalue", numberOptions[0]);
            $("#crystal1").append(imageCrystal1);


            imageCrystal2.addClass("crystal-image");
            imageCrystal2.attr("src", "images/amethyst.jpg");
            imageCrystal2.attr("data-crystalvalue", numberOptions[1]);
            $("#crystal2").append(imageCrystal2);


            imageCrystal3.addClass("crystal-image");
            imageCrystal3.attr("src", "images/round-chatham-lab-grown-blue-s.png");
            imageCrystal3.attr("data-crystalvalue", numberOptions[2]);
            $("#crystal3").append(imageCrystal3);


            imageCrystal4.addClass("crystal-image");
            imageCrystal4.attr("src", "images/ruby-stone-500x500.jpg");
            imageCrystal4.attr("data-crystalvalue", numberOptions[3]);
            $("#crystal4").append(imageCrystal4);
        }


        $(".crystal-image").on("click", function() {

        var crystalValue = ($(this).attr("data-crystalvalue"));
        crystalValue = parseInt(crystalValue);
        counter += crystalValue;
        scoreDisplay.text(counter);
        winDisplay.text(wins);
        lossDisplay.text(losses);
        
        if (counter === targetNumber) {
            alert("You win. Yay.");
            winDisplay.text(wins++);
            targetDisplay.text(targetNumber = Math.floor(Math.random() * 9001));
            counter = 0;
            scoreDisplay.text(counter);
            randomNumber1 = Math.floor(Math.random() * 501);
            randomNumber2 = Math.floor(Math.random() * 501);
            randomNumber3 = Math.floor(Math.random() * 501);
            randomNumber4 = Math.floor(Math.random() * 501);
        } else if (counter >= targetNumber) {
            alert("YOU LOSE!!! GOOD SAY SIR!");
            lossDisplay.text(losses++);
            targetDisplay.text(targetNumber = Math.floor(Math.random() * 9001));
            counter = 0;
            scoreDisplay.text(counter);
            randomNumber1 = Math.floor(Math.random() * 501);
            randomNumber2 = Math.floor(Math.random() * 501);
            randomNumber3 = Math.floor(Math.random() * 501);
            randomNumber4 = Math.floor(Math.random() * 501);
        }

        });
    </script>
</body>
</html>